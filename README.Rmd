---
title: "README"
author: "@laneharrison"
date: May 26, 2016
output: rmarkdown::github_document
---

service-imgd-climate is ...

```{r}
master <- read.csv('data/data.csv')
source("fun.R")

key <- master[c(0, 1), ]
data <- master[-c(1, 2), ]
```

# Dividing by Majors

 Majors | minors | graduate students | non-majors
 - | - | - | -
 67 | 13 | 11 | 53 
 
```{r}
unique(data$Source)

data$IMGDStatus <- ifelse(data$Q9_1==1, "Major",
                   ifelse(data$Q9_2==1, "Major",
                   ifelse(data$Q9_3==1, "Minor",
                   ifelse(data$Q9_4==1, "NonMajor",
                   ifelse(data$Q9_5==1, "NonMajor",
                   ifelse(data$Q8==5, "Graduate",
                          NA ))))))

# table(data$IMGDStatus)

```

# Dividing by Demographics

Majors, Minors, Graduate Students (n = 91)
Non-Majors (n = 53)

LGBTQ | Male | Only White/Caucasian | Only Black/African American | Hispanic | Only American Indian/Alaskan Native | Only Other Race | More than One Race | First Generation College Students
- | - | - | - | - | - | - | - | - |
24.44 | 75.82 | 72.53 | 2.2 | 5.49 | 0.00 | 16.48 | 0.00 | 0.00 | 3.30 | 5.49
7.55 | 58.49 | 64.15 | 1.89 | 11.32 | 0.00 | 18.87 | 0.00 | 1.89 | 1.89 | 16.98


# Comparison Groupings

Privileged Male: White, Straight, Male AND IMGD Major, Minor, or Graduate Student

Answer | Frequency | Percent | Cumulative Percent
- | - | - | -
No | 45 | 49.45 | 49.45
Yes | 46 | 50.55 | 100
- | - | - | -
Total | 91 | 100 | 100

```{r}

data$Privileged <- 
    ifelse( 
      (data$IMGDStatus=="Major" | data$IMGDStatus=="Minor" | data$IMGDStatus=="Graduate") & 
      (data$Q4_1==1 & data$Q5==2 & data$Q1_1==1), "Privileged", 
    ifelse(
      (data$IMGDStatus=="Major" | data$IMGDStatus=="Minor" | data$IMGDStatus=="Graduate"), "NonPrivileged", 
    NA))

table(data$Privileged)

```

# Perceptions of Faculty

(`Q12_1` -- `Q12_11`)

```{r}

index <- c(
 "Q12_1",
 "Q12_2",
 "Q12_3",
 "Q12_4",
 "Q12_5",
 "Q12_6",
 "Q12_7",
 "Q12_8",
 "Q12_9",
 "Q12_10",
 "Q12_11"
)

xform <- function(d, V) {
d <- d[grep("^\\d+$", d[,V]),,drop=F]
d[,V] <- as.numeric(as.character(d[,V]))
return(d)
}

for (V in index){
  data <- xform(data, V)
}

#data <- xform(data, "Q12_1")
#data <- xform(data, "Q12_2")
#data <- xform(data, "Q12_3")
#data <- xform(data, "Q12_4")
#data <- xform(data, "Q12_5")
#data <- xform(data, "Q12_6")
#data <- xform(data, "Q12_7")
#data <- xform(data, "Q12_8")
#data <- xform(data, "Q12_9")
#data <- xform(data, "Q12_10")
#data <- xform(data, "Q12_11")

bplot <- function(V) {
  p <- ggplot(data, aes_string("Privileged", V))
  p <- p + geom_boxplot() + geom_jitter()
  p <- p + expand_limits(y = c(0,6))
  p <- p + coord_flip()
  p <- p + theme_bw()
  p <- p + theme(plot.title=element_text(hjust=0))
  p <- p + theme(panel.border=element_blank())
  p <- p + theme(panel.grid.minor=element_blank())
  p <- p + theme(axis.ticks=element_blank())
  p <- p + theme(legend.key=element_rect(color="white"))
  p <- p + theme(text=element_text(family="Avenir Next Medium"))
  p
}

bplot("Q12_1")
bplot("Q12_2")
bplot("Q12_3")
bplot("Q12_4")
bplot("Q12_5")
bplot("Q12_6")
bplot("Q12_7")
bplot("Q12_8")
bplot("Q12_9")
bplot("Q12_10")
bplot("Q12_11")

```



